package trycode;

import java.util.HashSet;
import java.util.LinkedList;

public class OneOneFive {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String s="babgbag";
		String t="bag";
		OneOneFive OOF=new OneOneFive();
		OOF.get115(s, t);

	}
	private void get115(String s, String t) {
		int tlen=t.length(),slen=s.length();
		LinkedList<Integer> curr=new LinkedList<Integer>();
		HashSet<HashSet<Integer>> res=new HashSet<HashSet<Integer>>();
		recur115(s, t, slen, tlen, curr, res);
		System.out.println(res.size());
	}
	
	private void recur115(String s, String t, int slen, int tlen, LinkedList<Integer> curr, HashSet<HashSet<Integer>> res) {
		if(curr.size()==tlen) {
			res.add(new HashSet(curr));
			return;
		}
		for(int i=0; i<s.length()-t.length()+1; i++) {
			if(s.charAt(i)==t.charAt(0)) {
				curr.add(slen-s.length()+i);
				System.out.println(curr);
				recur115(s.substring(i+1), t.substring(1), slen, tlen, curr, res);
				curr.removeLast();
			}
		}

		
	}

}
